[gd_scene format=3 uid="uid://dhhhxikvujens"]

[ext_resource type="Script" uid="uid://c1jp2vi6jyt1a" path="res://objects/nightbloom/combat/combat_manager.gd" id="1_vb544"]
[ext_resource type="PackedScene" uid="uid://bwwp0m3lati7b" path="res://objects/nightbloom/combat/player/Pawn.tscn" id="2_vb544"]
[ext_resource type="PackedScene" uid="uid://vxdor5xmvcxb" path="res://objects/nightbloom/combat/hud/CombatHud.tscn" id="3_s8irp"]
[ext_resource type="PackedScene" uid="uid://g6ifp62rjk87" path="res://objects/nightbloom/combat/enemy/EnemyGroup.tscn" id="5_p17xp"]
[ext_resource type="Script" uid="uid://be3ojgxjdeih1" path="res://levels/combat/arena_controller.gd" id="6_arena"]
[ext_resource type="Script" uid="uid://dcgac1l8pglxk" path="res://levels/combat/follow_camera.gd" id="7_camera"]

[sub_resource type="NavigationMesh" id="NavigationMesh_65vf4"]
vertices = PackedVector3Array(-19.5, 0.10000008, -13, -19.5, 0.10000008, 26, 19.5, 0.10000008, 26, 19.5, 0.10000008, -13)
polygons = [PackedInt32Array(3, 2, 0), PackedInt32Array(0, 2, 1)]
geometry_parsed_geometry_type = 1
cell_height = 0.05
agent_height = 2.0

[sub_resource type="BoxShape3D" id="BoxShape3D_floor"]
size = Vector3(40, 1, 40)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_olpmc"]
albedo_color = Color(0.39118537, 0.39118534, 0.39118534, 1)

[sub_resource type="PlaneMesh" id="PlaneMesh_xdvfk"]
material = SubResource("StandardMaterial3D_olpmc")
size = Vector2(40, 40)

[node name="Arena" type="Node3D" unique_id=1634558147]
script = ExtResource("6_arena")

[node name="CombatManager" type="Node" parent="." unique_id=914338496]
script = ExtResource("1_vb544")
intro_duration = 1.0
turn_duration = 30.0

[node name="Pawn" parent="." unique_id=1861920858 instance=ExtResource("2_vb544")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -5)

[node name="FollowCamera" type="Camera3D" parent="Pawn" unique_id=927752189]
current = true
fov = 50.0
script = ExtResource("7_camera")
target_path = NodePath("../CameraTarget")
offset = Vector3(0, 3, -6)

[node name="CameraTarget" type="Marker3D" parent="Pawn" unique_id=1082665707]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 2)

[node name="HUD" type="Node" parent="." unique_id=1002064576]

[node name="CombatHud" parent="HUD" unique_id=1143205508 instance=ExtResource("3_s8irp")]

[node name="Level" type="Node" parent="." unique_id=1016813072]

[node name="Ground" type="Node" parent="Level" unique_id=1679767860]

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="Level/Ground" unique_id=339179619]
navigation_mesh = SubResource("NavigationMesh_65vf4")

[node name="FloorBody" type="StaticBody3D" parent="Level/Ground/NavigationRegion3D" unique_id=2005786013]

[node name="FloorCollider" type="CollisionShape3D" parent="Level/Ground/NavigationRegion3D/FloorBody" unique_id=1323556265]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.5, 6.5)
shape = SubResource("BoxShape3D_floor")

[node name="FloorMesh" type="MeshInstance3D" parent="Level/Ground/NavigationRegion3D/FloorBody" unique_id=442519145]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 6.5)
mesh = SubResource("PlaneMesh_xdvfk")

[node name="Lighting" type="Node" parent="." unique_id=1345912663]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="Lighting" unique_id=2010568951]
transform = Transform3D(-0.50000006, -0.4330127, 0.75, -2.1855694e-08, 0.8660254, 0.5, -0.8660254, 0.25, -0.43301272, 0, 0, 0)
light_color = Color(0.9999998, 0.989737, 0.87402666, 1)
shadow_enabled = true

[node name="EnemySpawns" type="Node" parent="." unique_id=1846767033]

[node name="Marker3D" type="Marker3D" parent="EnemySpawns" unique_id=188078443]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.1186588, 0, 4.875696)

[node name="Marker3D2" type="Marker3D" parent="EnemySpawns" unique_id=2061366053]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.3813412, 0, 4.875696)

[node name="Marker3D3" type="Marker3D" parent="EnemySpawns" unique_id=84526864]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.3813412, 0, 7.875696)

[node name="Marker3D4" type="Marker3D" parent="EnemySpawns" unique_id=1774284815]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.1186588, 0, 7.875696)

[node name="Marker3D5" type="Marker3D" parent="EnemySpawns" unique_id=1793720338]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.1186588, 0, 6.875696)

[node name="Marker3D6" type="Marker3D" parent="EnemySpawns" unique_id=116993866]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.618659, 0, 6.875696)

[node name="Marker3D7" type="Marker3D" parent="EnemySpawns" unique_id=490242433]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.381341, 0, 6.875696)

[node name="EnemyGroup" parent="." unique_id=395364730 node_paths=PackedStringArray("Spawns", "Pawn") instance=ExtResource("5_p17xp")]
Spawns = NodePath("../EnemySpawns")
Pawn = NodePath("../Pawn")
